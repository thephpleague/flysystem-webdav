sudo: required
services:
  - docker

language: php

php:
  - 5.6
  - 7.0
  - 7.1
  - 7.2
  - 7.3
  - 7.4

install:
  - travis_retry composer install --no-interaction --prefer-source

before_script:
  - docker run -d --name webdav_server -p 80:80 -e USERNAME=alice -e PASSWORD=secret1234 bytemark/webdav
  - php wait_for_webdav_service.php

script:
  - bin/phpunit --coverage-text --coverage-clover coverage.xml
